import{S as b,i as w,a as v}from"./assets/vendor-c145bea9.js";(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const t of document.querySelectorAll('link[rel="modulepreload"]'))r(t);new MutationObserver(t=>{for(const s of t)if(s.type==="childList")for(const p of s.addedNodes)p.tagName==="LINK"&&p.rel==="modulepreload"&&r(p)}).observe(document,{childList:!0,subtree:!0});function u(t){const s={};return t.integrity&&(s.integrity=t.integrity),t.referrerpolicy&&(s.referrerPolicy=t.referrerpolicy),t.crossorigin==="use-credentials"?s.credentials="include":t.crossorigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(t){if(t.ep)return;t.ep=!0;const s=u(t);fetch(t.href,s)}})();let l=1,g="",a=40,n=0;const P=document.querySelector(".search-form"),m=new URL("https://pixabay.com/api/"),y=document.querySelector(".gallery"),d=document.querySelector(".loader"),i=document.querySelector(".load-more-btn"),c=document.querySelector(".end-text"),S=new b(".gallery a",{nav:!0,captionDelay:250,captionsData:"alt",close:!0,enableKeyboard:!0,docClose:!0});async function f(){const o={key:"41612762-752dc9341b43071862b7b3b8c",q:g,image_type:"photo",orientation:"horizontal",safesearch:!0,page:l,per_page:a};m.search=new URLSearchParams(o);try{return(await v.get(m)).data}catch{h()}}function L(o,e){const u=e.hits.map(r=>`<li class="img-gallery-item"><a class="gallery-link" href="${r.largeImageURL}"><img class="gallery-image" src="${r.webformatURL}" alt="${r.tags}" width="${r.webformatWidth}"></a>
        <div class="info-img">
          <p>Likes<span>${r.likes}</span></p>
          <p>Views<span>${r.views}</span></p>
          <p>Comments<span>${r.comments}</span></p>
          <p>Downloads<span>${r.downloads}</span></p>
        </div>
      </li>`).join("");o.insertAdjacentHTML("beforeend",u),S.refresh()}function q(){return document.querySelector(".img-gallery-item").getBoundingClientRect().height}function k(o){window.scrollBy({top:o,behavior:"smooth"})}P.addEventListener("submit",async o=>{o.preventDefault(),l=1,g=o.currentTarget.elements.query.value.trim(),y.innerHTML="",d.style.display="block",f().then(e=>{if(e.totalHits===0)throw i.classList.add("is-hidden"),c.classList.add("is-hidden"),new Error("No images found");n=e.totalHits,L(y,e),console.log("TR - "+n),console.log("PP - "+a),console.log("CP - "+l),console.log("IF - "+l>=Math.ceil(n/a)),i.classList.remove("is-hidden"),c.classList.add("is-hidden"),l>=Math.ceil(n/a)&&(i.classList.add("is-hidden"),c.classList.remove("is-hidden"))}).catch(e=>h()).finally(()=>{d.style.display="none",console.log("All: "+n)})});i.addEventListener("click",async()=>{try{console.log("TR - "+n),console.log("PP - "+a),l+=1,console.log("CP - "+l),console.log("IF - "+l>=Math.ceil(n/a)),d.style.display="block",f().then(o=>{L(y,o);const e=q();k(e*2.2)}).finally(()=>{d.style.display="none",console.log("All: "+n)}),l>=Math.ceil(n/a)&&(i.classList.add("is-hidden"),c.classList.remove("is-hidden"))}catch{h()}});function h(){return w.error({title:"Error",position:"center",message:"Sorry, there are no images matching your search query. Please try again!"})}
//# sourceMappingURL=commonHelpers.js.map
